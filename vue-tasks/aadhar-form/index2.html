<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app" class="container">
        <table class="table table-bordered">
            <tr>
                <td>ID</td>
                <td>Name</td>
                <td>Designation</td>
                <td>Manager</td>
                <td></td>
            </tr>
            <tr v-for="v in data">
                <td>{{ v['id'] }}</td>
                <td>{{ v['name'] }}</td>
                <td>{{ v['des'] }}</td>
                <td>
                    <span>{{ find_manager(v['manager_id']) }}</span>
                    
                </td>
                <td></td>
            </tr>
        </table>

        <com v-bind:data="data" v-bind:manager_id="'-1'" ></com>
    </div>
<script>
    const com = {
      data: function(){
        return {
            
        };
      },
      props:['data', 'manager_id'],
      methods:{

      },
      template: `<ul>
        <template v-for="v in data" >
            <li v-if="v['manager_id']==manager_id" >
                <div>{{ v['name'] }}</div>
                <com v-bind:data="data" v-bind:manager_id="v['id']" ></com>
            </li>
        </template>
      </ul>`
    };
    const app = Vue.createApp({
        data: function(){
            return{
                data:[
                    {
                        "id": "01",
                        "name": "Satish",
                        "des": "Admin",
                        "manager_id": "-1"
                    },
                    {
                        "id": "02",
                        "name": "Suresh",
                        "des": "Accountant",
                        "manager_id": "01"
                    },
                    {
                        "id": "03",
                        "name": "Ganesh",
                        "des": "HR",
                        "manager_id": "01"
                    },
                    {
                        "id": "04",
                        "name": "Mahesh",
                        "des": "TL",
                        "manager_id": "01"
                    },
                    {
                        "id": "05",
                        "name": "Kamesh",
                        "des": "Sr Programmer",
                        "manager_id": "04"
                    },
                    {
                        "id": "06",
                        "name": "Kamalesh",
                        "des": "Sr Programmer",
                        "manager_id": "04"
                    },
                    {
                        "id": "07",
                        "name": "veeresh",
                        "des": "Jr Programmer",
                        "manager_id": "05"
                    },
                    {
                        "id": "08",
                        "name": "Ramesh",
                        "des": "Jr Programmer",
                        "manager_id": "06"
                    },
                    {
                        "id": "09",
                        "name": "Venkatesh",
                        "des": "Jr Programmer",
                        "manager_id": "06"
                    },
                    {
                        "id": "10",
                        "name": "Mangesh",
                        "des": "Jr Programmer",
                        "manager_id": "06"
                    }

                ]

            }
        },
        methods:{
            find_manager: function( mid ){
                for(var i=0;i<this.data.length;i++){
                    if( this.data[i]['id'] == mid ){
                        return this.data[i]['name'];
                    }
                }
                return "Not found";
            },
            print_id:function()
            {
                console.log(this.record['pre_id']);
            },
            validate_aadhaar:function()
            {
                return (this.record['aadhaar'].match(/^[0-9]{12}$/)==null);
                
            },
            validate_name:function(){
                return (this.record['name'].match(/^[a-z]{3}[a-z\ ]$/)==null);
            }
        }
    });
    app.component("com",com);
    app.mount("#app");
</script>
</body>

</html>